{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./MainInterface.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MainInterface=_ref=>{let{userData,updateUserData,onLogout}=_ref;const navigate=useNavigate();const[isBottomBarVisible,setIsBottomBarVisible]=useState(true);const[lastScrollY,setLastScrollY]=useState(0);useEffect(()=>{const handleScroll=()=>{const currentScrollY=window.scrollY;if(currentScrollY>lastScrollY&&currentScrollY>100){// 向下滚动，隐藏底部栏\nsetIsBottomBarVisible(false);}else{// 向上滚动，显示底部栏\nsetIsBottomBarVisible(true);}setLastScrollY(currentScrollY);};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[lastScrollY]);const handleNavigation=path=>{navigate(path);};const handleExit=()=>{if(window.confirm('确定要退出软件吗？')){onLogout();}};const getAvatarDisplay=()=>{if(userData.avatar){return/*#__PURE__*/_jsx(\"img\",{src:userData.avatar,alt:\"\\u5934\\u50CF\"});}return userData.nickname.charAt(0).toUpperCase();};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-interface\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"top-navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",onClick:()=>navigate('/settings'),children:getAvatarDisplay()}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nickname\",children:userData.nickname}),/*#__PURE__*/_jsxs(\"div\",{className:\"grade-class\",children:[userData.grade,\" \",userData.class]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score\",children:[\"\\u79EF\\u5206: \",userData.score]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"exit-btn\",onClick:handleExit,children:\"\\u9000\\u51FA\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-section\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u6B22\\u8FCE\\u56DE\\u6765\\uFF0C\",userData.nickname,\"\\uFF01\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u4ECA\\u5929\\u4E5F\\u8981\\u52A0\\u6CB9\\u54E6\\uFF5E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature-showcase\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"showcase-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCDD \\u5907\\u5FD8\\u5F55\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u8BB0\\u5F55\\u91CD\\u8981\\u4E8B\\u9879\\uFF0C\\u9AD8\\u6548\\u7BA1\\u7406\\u65F6\\u95F4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"showcase-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDF1F \\u542C\\u98CE\\u8BF4\\u96E8\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u5206\\u4EAB\\u5FC3\\u60C5\\uFF0C\\u8BB0\\u5F55\\u7F8E\\u597D\\u77AC\\u95F4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"showcase-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDC65 \\u627E\\u642D\\u5B50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u7ED3\\u8BC6\\u5FD7\\u540C\\u9053\\u5408\\u7684\\u670B\\u53CB\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"placeholder-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u66F4\\u591A\\u529F\\u80FD\\u656C\\u8BF7\\u671F\\u5F85\"}),/*#__PURE__*/_jsx(\"div\",{className:\"content-blocks\",children:[1,2,3,4,5].map(i=>/*#__PURE__*/_jsxs(\"div\",{className:\"content-block\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u529F\\u80FD\\u6A21\\u5757 \",i]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u8FD9\\u91CC\\u662F\\u4E00\\u4E9B\\u793A\\u4F8B\\u5185\\u5BB9\\uFF0C\\u7528\\u4E8E\\u5C55\\u793A\\u6EDA\\u52A8\\u6548\\u679C\\u3002\\u5F53\\u4F60\\u5411\\u4E0B\\u6EDA\\u52A8\\u65F6\\uFF0C\\u5E95\\u90E8\\u529F\\u80FD\\u680F\\u4F1A\\u81EA\\u52A8\\u9690\\u85CF\\uFF0C\\u8BA9\\u754C\\u9762\\u66F4\\u52A0\\u6E05\\u723D\\u3002\"})]},i))})]})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"bottom-navbar \".concat(isBottomBarVisible?'visible':'hidden'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item\",onClick:()=>handleNavigation('/memo'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-icon\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u5907\\u5FD8\\u5F55\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item\",onClick:()=>handleNavigation('/listen-to-wind'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-icon\",children:\"\\uD83C\\uDF1F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u542C\\u98CE\\u8BF4\\u96E8\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item\",onClick:()=>handleNavigation('/find-partner'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-icon\",children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u627E\\u642D\\u5B50\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item\",onClick:()=>handleNavigation('/settings'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-icon\",children:\"\\u2699\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u8BBE\\u7F6E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item\",onClick:handleExit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-icon\",children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u9000\\u51FA\"})]})]})]});};export default MainInterface;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","MainInterface","_ref","userData","updateUserData","onLogout","navigate","isBottomBarVisible","setIsBottomBarVisible","lastScrollY","setLastScrollY","handleScroll","currentScrollY","window","scrollY","addEventListener","removeEventListener","handleNavigation","path","handleExit","confirm","getAvatarDisplay","avatar","src","alt","nickname","charAt","toUpperCase","className","children","onClick","grade","class","score","map","i","concat"],"sources":["C:/Users/tmf13/Desktop/RJ/APP/webapp/src/components/MainInterface.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './MainInterface.css';\r\n\r\nconst MainInterface = ({ userData, updateUserData, onLogout }) => {\r\n  const navigate = useNavigate();\r\n  const [isBottomBarVisible, setIsBottomBarVisible] = useState(true);\r\n  const [lastScrollY, setLastScrollY] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const currentScrollY = window.scrollY;\r\n      \r\n      if (currentScrollY > lastScrollY && currentScrollY > 100) {\r\n        // 向下滚动，隐藏底部栏\r\n        setIsBottomBarVisible(false);\r\n      } else {\r\n        // 向上滚动，显示底部栏\r\n        setIsBottomBarVisible(true);\r\n      }\r\n      \r\n      setLastScrollY(currentScrollY);\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, [lastScrollY]);\r\n\r\n  const handleNavigation = (path) => {\r\n    navigate(path);\r\n  };\r\n\r\n  const handleExit = () => {\r\n    if (window.confirm('确定要退出软件吗？')) {\r\n      onLogout();\r\n    }\r\n  };\r\n\r\n  const getAvatarDisplay = () => {\r\n    if (userData.avatar) {\r\n      return <img src={userData.avatar} alt=\"头像\" />;\r\n    }\r\n    return userData.nickname.charAt(0).toUpperCase();\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-interface\">\r\n      {/* 顶部导航栏 */}\r\n      <header className=\"top-navbar\">\r\n        <div className=\"user-info\">\r\n          <div className=\"avatar\" onClick={() => navigate('/settings')}>\r\n            {getAvatarDisplay()}\r\n          </div>\r\n          <div className=\"user-details\">\r\n            <div className=\"nickname\">{userData.nickname}</div>\r\n            <div className=\"grade-class\">{userData.grade} {userData.class}</div>\r\n            <div className=\"score\">积分: {userData.score}</div>\r\n          </div>\r\n        </div>\r\n        <button className=\"exit-btn\" onClick={handleExit}>\r\n          退出\r\n        </button>\r\n      </header>\r\n\r\n      {/* 主内容区域 */}\r\n      <main className=\"main-content\">\r\n        <div className=\"welcome-section\">\r\n          <h1>欢迎回来，{userData.nickname}！</h1>\r\n          <p>今天也要加油哦～</p>\r\n        </div>\r\n\r\n        {/* 功能展示区域 */}\r\n        <div className=\"feature-showcase\">\r\n          <div className=\"showcase-card\">\r\n            <h3>📝 备忘录</h3>\r\n            <p>记录重要事项，高效管理时间</p>\r\n          </div>\r\n          <div className=\"showcase-card\">\r\n            <h3>🌟 听风说雨</h3>\r\n            <p>分享心情，记录美好瞬间</p>\r\n          </div>\r\n          <div className=\"showcase-card\">\r\n            <h3>👥 找搭子</h3>\r\n            <p>结识志同道合的朋友</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 占位内容，用于测试滚动效果 */}\r\n        <div className=\"placeholder-content\">\r\n          <h2>更多功能敬请期待</h2>\r\n          <div className=\"content-blocks\">\r\n            {[1, 2, 3, 4, 5].map(i => (\r\n              <div key={i} className=\"content-block\">\r\n                <h3>功能模块 {i}</h3>\r\n                <p>这里是一些示例内容，用于展示滚动效果。当你向下滚动时，底部功能栏会自动隐藏，让界面更加清爽。</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* 底部功能栏 */}\r\n      <nav className={`bottom-navbar ${isBottomBarVisible ? 'visible' : 'hidden'}`}>\r\n        <div className=\"nav-item\" onClick={() => handleNavigation('/memo')}>\r\n          <div className=\"nav-icon\">📝</div>\r\n          <span>备忘录</span>\r\n        </div>\r\n        <div className=\"nav-item\" onClick={() => handleNavigation('/listen-to-wind')}>\r\n          <div className=\"nav-icon\">🌟</div>\r\n          <span>听风说雨</span>\r\n        </div>\r\n        <div className=\"nav-item\" onClick={() => handleNavigation('/find-partner')}>\r\n          <div className=\"nav-icon\">👥</div>\r\n          <span>找搭子</span>\r\n        </div>\r\n        <div className=\"nav-item\" onClick={() => handleNavigation('/settings')}>\r\n          <div className=\"nav-icon\">⚙️</div>\r\n          <span>设置</span>\r\n        </div>\r\n        <div className=\"nav-item\" onClick={handleExit}>\r\n          <div className=\"nav-icon\">🚪</div>\r\n          <span>退出</span>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}