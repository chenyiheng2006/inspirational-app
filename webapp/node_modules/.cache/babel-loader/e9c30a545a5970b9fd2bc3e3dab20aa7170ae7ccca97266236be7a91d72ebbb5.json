{"ast":null,"code":"import _objectSpread from\"C:/Users/tmf13/Desktop/RJ/APP/webapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import SplashScreen from'./components/SplashScreen';import LoginRegister from'./components/LoginRegister';import MainInterface from'./components/MainInterface';import MemoInterface from'./components/MemoInterface';import ListenToWindInterface from'./components/ListenToWindInterface';import FindPartnerInterface from'./components/FindPartnerInterface';import SettingsInterface from'./components/SettingsInterface';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[showSplash,setShowSplash]=useState(true);const[isLoggedIn,setIsLoggedIn]=useState(false);const[userData,setUserData]=useState({email:'',phone:'',avatar:null,nickname:'用户',grade:'高一',class:'1班',name:'张三',score:0,isAnonymous:false});useEffect(()=>{// 从localStorage加载用户数据和登录状态\nconst savedUserData=localStorage.getItem('userData');const savedLoginStatus=localStorage.getItem('isLoggedIn');if(savedUserData){setUserData(JSON.parse(savedUserData));}if(savedLoginStatus==='true'){setIsLoggedIn(true);}},[]);const updateUserData=newData=>{const updatedData=_objectSpread(_objectSpread({},userData),newData);setUserData(updatedData);localStorage.setItem('userData',JSON.stringify(updatedData));};const handleLogin=loginData=>{setUserData(prev=>_objectSpread(_objectSpread({},prev),loginData));setIsLoggedIn(true);localStorage.setItem('userData',JSON.stringify(_objectSpread(_objectSpread({},userData),loginData)));localStorage.setItem('isLoggedIn','true');};const handleLogout=()=>{setIsLoggedIn(false);localStorage.setItem('isLoggedIn','false');};const handleSplashComplete=()=>{setShowSplash(false);};if(showSplash){return/*#__PURE__*/_jsx(SplashScreen,{onComplete:handleSplashComplete});}if(!isLoggedIn){return/*#__PURE__*/_jsx(LoginRegister,{onLogin:handleLogin});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MainInterface,{userData:userData,updateUserData:updateUserData,onLogout:handleLogout})}),/*#__PURE__*/_jsx(Route,{path:\"/memo\",element:/*#__PURE__*/_jsx(MemoInterface,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/listen-to-wind\",element:/*#__PURE__*/_jsx(ListenToWindInterface,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/find-partner\",element:/*#__PURE__*/_jsx(FindPartnerInterface,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(SettingsInterface,{userData:userData,updateUserData:updateUserData})})]})})});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}