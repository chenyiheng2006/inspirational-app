{"ast":null,"code":"import _objectSpread from\"C:/Users/tmf13/Desktop/RJ/APP/webapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import'./FindPartnerInterface.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FindPartnerInterface=_ref=>{let{userData}=_ref;const navigate=useNavigate();const[selectedRoom,setSelectedRoom]=useState(null);const[messages,setMessages]=useState({});const[newMessage,setNewMessage]=useState('');const[selectedFiles,setSelectedFiles]=useState([]);const messagesEndRef=useRef(null);const chatRooms=[{id:'basketball',name:'篮球',icon:'🏀',description:'篮球爱好者聚集地'},{id:'skateboard',name:'滑板',icon:'🛹',description:'滑板技巧交流'},{id:'music',name:'音乐',icon:'🎵',description:'音乐分享与讨论'},{id:'study',name:'学习',icon:'📚',description:'学习交流互助'},{id:'gaming',name:'游戏',icon:'🎮',description:'游戏搭子寻找'},{id:'photography',name:'摄影',icon:'📷',description:'摄影技巧分享'}];useEffect(()=>{// 从localStorage加载聊天记录\nconst savedMessages=localStorage.getItem('chatMessages');if(savedMessages){setMessages(JSON.parse(savedMessages));}},[]);useEffect(()=>{var _messagesEndRef$curre;// 滚动到最新消息\n(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages,selectedRoom]);const saveMessages=newMessages=>{setMessages(newMessages);localStorage.setItem('chatMessages',JSON.stringify(newMessages));};const sendMessage=()=>{if(!newMessage.trim()&&selectedFiles.length===0||!selectedRoom)return;const message={id:Date.now(),content:newMessage.trim(),files:selectedFiles.map(file=>({name:file.name,type:file.type,url:URL.createObjectURL(file)})),author:{nickname:userData.nickname,grade:userData.grade,class:userData.class,avatar:userData.avatar},timestamp:new Date().toISOString()};const updatedMessages=_objectSpread(_objectSpread({},messages),{},{[selectedRoom]:[...(messages[selectedRoom]||[]),message]});saveMessages(updatedMessages);setNewMessage('');setSelectedFiles([]);};const handleFileSelect=e=>{const files=Array.from(e.target.files);setSelectedFiles(files);};const formatTimestamp=timestamp=>{const date=new Date(timestamp);return date.toLocaleTimeString('zh-CN',{hour:'2-digit',minute:'2-digit'});};const getRoomMessages=roomId=>{return messages[roomId]||[];};const getLastMessage=roomId=>{const roomMessages=getRoomMessages(roomId);if(roomMessages.length===0)return'暂无消息';const lastMsg=roomMessages[roomMessages.length-1];if(lastMsg.content){return lastMsg.content.length>20?lastMsg.content.substring(0,20)+'...':lastMsg.content;}if(lastMsg.files.length>0){return lastMsg.files[0].type.startsWith('image/')?'[图片]':'[文件]';}return'暂无消息';};const getUnreadCount=roomId=>{// 这里可以实现未读消息计数逻辑\nreturn Math.floor(Math.random()*5);// 示例：随机未读数\n};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}};if(selectedRoom){const room=chatRooms.find(r=>r.id===selectedRoom);const roomMessages=getRoomMessages(selectedRoom);return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-room\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"chat-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:()=>setSelectedRoom(null),children:\"\\u2190 \\u8FD4\\u56DE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"room-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"room-icon\",children:room.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"room-name\",children:room.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"room-members\",children:[\"\\u5728\\u7EBF \",Math.floor(Math.random()*50)+10]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"messages-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"messages-list\",children:[roomMessages.length>0?roomMessages.map(message=>/*#__PURE__*/_jsxs(\"div\",{className:\"message-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-avatar\",children:message.author.avatar?/*#__PURE__*/_jsx(\"img\",{src:message.author.avatar,alt:\"\\u5934\\u50CF\"}):message.author.nickname.charAt(0)}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"message-author\",children:message.author.nickname}),/*#__PURE__*/_jsxs(\"span\",{className:\"message-meta\",children:[message.author.grade,\" \",message.author.class]}),/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:formatTimestamp(message.timestamp)})]}),message.content&&/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:message.content}),message.files.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"message-files\",children:message.files.map((file,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"message-file\",children:file.type.startsWith('image/')?/*#__PURE__*/_jsx(\"img\",{src:file.url,alt:file.name,className:\"message-image\"}):file.type.startsWith('video/')?/*#__PURE__*/_jsx(\"video\",{src:file.url,controls:true,className:\"message-video\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"file-placeholder\",children:[\"\\uD83D\\uDCCE \",file.name]})},index))})]})]},message.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-messages\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:room.icon}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u6B22\\u8FCE\\u6765\\u5230\",room.name,\"\\u804A\\u5929\\u5BA4\\uFF01\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u5F00\\u59CB\\u804A\\u5929\\uFF0C\\u8BA4\\u8BC6\\u65B0\\u670B\\u53CB\\u5427\\uFF5E\"})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})}),/*#__PURE__*/_jsxs(\"footer\",{className:\"message-input-area\",children:[selectedFiles.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"selected-files-preview\",children:selectedFiles.map((file,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"selected-file-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:file.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedFiles(files=>files.filter((_,i)=>i!==index)),children:\"\\xD7\"})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"file-btn\",children:[\"\\uD83D\\uDCCE\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*,video/*\",onChange:handleFileSelect,style:{display:'none'}})]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"message-input\",value:newMessage,onChange:e=>setNewMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"\\u8F93\\u5165\\u6D88\\u606F... (Shift+Enter\\u6362\\u884C)\",rows:\"1\"}),/*#__PURE__*/_jsx(\"button\",{className:\"send-btn\",onClick:sendMessage,disabled:!newMessage.trim()&&selectedFiles.length===0,children:\"\\u53D1\\u9001\"})]})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"find-partner-interface\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"partner-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:()=>navigate('/'),children:\"\\u2190 \\u8FD4\\u56DE\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u627E\\u642D\\u5B50\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"online-count\",children:[\"\\u5728\\u7EBF \",Math.floor(Math.random()*200)+100]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"rooms-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rooms-list\",children:chatRooms.map(room=>{const unreadCount=getUnreadCount(room.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"room-item\",onClick:()=>setSelectedRoom(room.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"room-icon-large\",children:room.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"room-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"room-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"room-name\",children:room.name}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"unread-badge\",children:unreadCount})]}),/*#__PURE__*/_jsx(\"p\",{className:\"room-description\",children:room.description}),/*#__PURE__*/_jsx(\"div\",{className:\"room-last-message\",children:getLastMessage(room.id)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"room-arrow\",children:\"\\u2192\"})]},room.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tips-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCA1 \\u804A\\u5929\\u5C0F\\u8D34\\u58EB\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u4FDD\\u6301\\u53CB\\u5584\\uFF0C\\u5C0A\\u91CD\\u4ED6\\u4EBA\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u5206\\u4EAB\\u6709\\u8DA3\\u7684\\u8BDD\\u9898\\u548C\\u7ECF\\u9A8C\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u627E\\u5230\\u5FD7\\u540C\\u9053\\u5408\\u7684\\u670B\\u53CB\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u9075\\u5B88\\u804A\\u5929\\u5BA4\\u89C4\\u5219\"})]})]})]})]});};export default FindPartnerInterface;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsx","_jsx","jsxs","_jsxs","FindPartnerInterface","_ref","userData","navigate","selectedRoom","setSelectedRoom","messages","setMessages","newMessage","setNewMessage","selectedFiles","setSelectedFiles","messagesEndRef","chatRooms","id","name","icon","description","savedMessages","localStorage","getItem","JSON","parse","_messagesEndRef$curre","current","scrollIntoView","behavior","saveMessages","newMessages","setItem","stringify","sendMessage","trim","length","message","Date","now","content","files","map","file","type","url","URL","createObjectURL","author","nickname","grade","class","avatar","timestamp","toISOString","updatedMessages","_objectSpread","handleFileSelect","e","Array","from","target","formatTimestamp","date","toLocaleTimeString","hour","minute","getRoomMessages","roomId","getLastMessage","roomMessages","lastMsg","substring","startsWith","getUnreadCount","Math","floor","random","handleKeyPress","key","shiftKey","preventDefault","room","find","r","className","children","onClick","src","alt","charAt","index","controls","ref","filter","_","i","multiple","accept","onChange","style","display","value","onKeyPress","placeholder","rows","disabled","unreadCount"],"sources":["C:/Users/tmf13/Desktop/RJ/APP/webapp/src/components/FindPartnerInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './FindPartnerInterface.css';\r\n\r\nconst FindPartnerInterface = ({ userData }) => {\r\n  const navigate = useNavigate();\r\n  const [selectedRoom, setSelectedRoom] = useState(null);\r\n  const [messages, setMessages] = useState({});\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  const chatRooms = [\r\n    { id: 'basketball', name: '篮球', icon: '🏀', description: '篮球爱好者聚集地' },\r\n    { id: 'skateboard', name: '滑板', icon: '🛹', description: '滑板技巧交流' },\r\n    { id: 'music', name: '音乐', icon: '🎵', description: '音乐分享与讨论' },\r\n    { id: 'study', name: '学习', icon: '📚', description: '学习交流互助' },\r\n    { id: 'gaming', name: '游戏', icon: '🎮', description: '游戏搭子寻找' },\r\n    { id: 'photography', name: '摄影', icon: '📷', description: '摄影技巧分享' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // 从localStorage加载聊天记录\r\n    const savedMessages = localStorage.getItem('chatMessages');\r\n    if (savedMessages) {\r\n      setMessages(JSON.parse(savedMessages));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // 滚动到最新消息\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages, selectedRoom]);\r\n\r\n  const saveMessages = (newMessages) => {\r\n    setMessages(newMessages);\r\n    localStorage.setItem('chatMessages', JSON.stringify(newMessages));\r\n  };\r\n\r\n  const sendMessage = () => {\r\n    if ((!newMessage.trim() && selectedFiles.length === 0) || !selectedRoom) return;\r\n\r\n    const message = {\r\n      id: Date.now(),\r\n      content: newMessage.trim(),\r\n      files: selectedFiles.map(file => ({\r\n        name: file.name,\r\n        type: file.type,\r\n        url: URL.createObjectURL(file)\r\n      })),\r\n      author: {\r\n        nickname: userData.nickname,\r\n        grade: userData.grade,\r\n        class: userData.class,\r\n        avatar: userData.avatar\r\n      },\r\n      timestamp: new Date().toISOString()\r\n    };\r\n\r\n    const updatedMessages = {\r\n      ...messages,\r\n      [selectedRoom]: [...(messages[selectedRoom] || []), message]\r\n    };\r\n\r\n    saveMessages(updatedMessages);\r\n    setNewMessage('');\r\n    setSelectedFiles([]);\r\n  };\r\n\r\n  const handleFileSelect = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    setSelectedFiles(files);\r\n  };\r\n\r\n  const formatTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleTimeString('zh-CN', { \r\n      hour: '2-digit', \r\n      minute: '2-digit' \r\n    });\r\n  };\r\n\r\n  const getRoomMessages = (roomId) => {\r\n    return messages[roomId] || [];\r\n  };\r\n\r\n  const getLastMessage = (roomId) => {\r\n    const roomMessages = getRoomMessages(roomId);\r\n    if (roomMessages.length === 0) return '暂无消息';\r\n    const lastMsg = roomMessages[roomMessages.length - 1];\r\n    if (lastMsg.content) {\r\n      return lastMsg.content.length > 20 ? \r\n        lastMsg.content.substring(0, 20) + '...' : \r\n        lastMsg.content;\r\n    }\r\n    if (lastMsg.files.length > 0) {\r\n      return lastMsg.files[0].type.startsWith('image/') ? '[图片]' : '[文件]';\r\n    }\r\n    return '暂无消息';\r\n  };\r\n\r\n  const getUnreadCount = (roomId) => {\r\n    // 这里可以实现未读消息计数逻辑\r\n    return Math.floor(Math.random() * 5); // 示例：随机未读数\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  if (selectedRoom) {\r\n    const room = chatRooms.find(r => r.id === selectedRoom);\r\n    const roomMessages = getRoomMessages(selectedRoom);\r\n\r\n    return (\r\n      <div className=\"chat-room\">\r\n        {/* 聊天室头部 */}\r\n        <header className=\"chat-header\">\r\n          <button \r\n            className=\"back-btn\" \r\n            onClick={() => setSelectedRoom(null)}\r\n          >\r\n            ← 返回\r\n          </button>\r\n          <div className=\"room-info\">\r\n            <span className=\"room-icon\">{room.icon}</span>\r\n            <span className=\"room-name\">{room.name}</span>\r\n          </div>\r\n          <div className=\"room-members\">\r\n            在线 {Math.floor(Math.random() * 50) + 10}\r\n          </div>\r\n        </header>\r\n\r\n        {/* 消息列表 */}\r\n        <main className=\"messages-container\">\r\n          <div className=\"messages-list\">\r\n            {roomMessages.length > 0 ? (\r\n              roomMessages.map(message => (\r\n                <div key={message.id} className=\"message-item\">\r\n                  <div className=\"message-avatar\">\r\n                    {message.author.avatar ? (\r\n                      <img src={message.author.avatar} alt=\"头像\" />\r\n                    ) : (\r\n                      message.author.nickname.charAt(0)\r\n                    )}\r\n                  </div>\r\n                  <div className=\"message-content\">\r\n                    <div className=\"message-header\">\r\n                      <span className=\"message-author\">\r\n                        {message.author.nickname}\r\n                      </span>\r\n                      <span className=\"message-meta\">\r\n                        {message.author.grade} {message.author.class}\r\n                      </span>\r\n                      <span className=\"message-time\">\r\n                        {formatTimestamp(message.timestamp)}\r\n                      </span>\r\n                    </div>\r\n                    {message.content && (\r\n                      <div className=\"message-text\">\r\n                        {message.content}\r\n                      </div>\r\n                    )}\r\n                    {message.files.length > 0 && (\r\n                      <div className=\"message-files\">\r\n                        {message.files.map((file, index) => (\r\n                          <div key={index} className=\"message-file\">\r\n                            {file.type.startsWith('image/') ? (\r\n                              <img \r\n                                src={file.url} \r\n                                alt={file.name} \r\n                                className=\"message-image\" \r\n                              />\r\n                            ) : file.type.startsWith('video/') ? (\r\n                              <video \r\n                                src={file.url} \r\n                                controls \r\n                                className=\"message-video\" \r\n                              />\r\n                            ) : (\r\n                              <div className=\"file-placeholder\">\r\n                                📎 {file.name}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"empty-messages\">\r\n                <div className=\"empty-icon\">{room.icon}</div>\r\n                <h3>欢迎来到{room.name}聊天室！</h3>\r\n                <p>开始聊天，认识新朋友吧～</p>\r\n              </div>\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        </main>\r\n\r\n        {/* 消息输入区 */}\r\n        <footer className=\"message-input-area\">\r\n          {selectedFiles.length > 0 && (\r\n            <div className=\"selected-files-preview\">\r\n              {selectedFiles.map((file, index) => (\r\n                <div key={index} className=\"selected-file-item\">\r\n                  <span>{file.name}</span>\r\n                  <button \r\n                    onClick={() => setSelectedFiles(files => \r\n                      files.filter((_, i) => i !== index)\r\n                    )}\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n          <div className=\"input-row\">\r\n            <label className=\"file-btn\">\r\n              📎\r\n              <input\r\n                type=\"file\"\r\n                multiple\r\n                accept=\"image/*,video/*\"\r\n                onChange={handleFileSelect}\r\n                style={{ display: 'none' }}\r\n              />\r\n            </label>\r\n            <textarea\r\n              className=\"message-input\"\r\n              value={newMessage}\r\n              onChange={(e) => setNewMessage(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"输入消息... (Shift+Enter换行)\"\r\n              rows=\"1\"\r\n            />\r\n            <button \r\n              className=\"send-btn\"\r\n              onClick={sendMessage}\r\n              disabled={!newMessage.trim() && selectedFiles.length === 0}\r\n            >\r\n              发送\r\n            </button>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"find-partner-interface\">\r\n      {/* 头部 */}\r\n      <header className=\"partner-header\">\r\n        <button className=\"back-btn\" onClick={() => navigate('/')}>\r\n          ← 返回\r\n        </button>\r\n        <h1>找搭子</h1>\r\n        <div className=\"online-count\">\r\n          在线 {Math.floor(Math.random() * 200) + 100}\r\n        </div>\r\n      </header>\r\n\r\n      {/* 聊天室列表 */}\r\n      <main className=\"rooms-content\">\r\n        <div className=\"rooms-list\">\r\n          {chatRooms.map(room => {\r\n            const unreadCount = getUnreadCount(room.id);\r\n            return (\r\n              <div \r\n                key={room.id} \r\n                className=\"room-item\"\r\n                onClick={() => setSelectedRoom(room.id)}\r\n              >\r\n                <div className=\"room-icon-large\">\r\n                  {room.icon}\r\n                </div>\r\n                <div className=\"room-details\">\r\n                  <div className=\"room-header\">\r\n                    <h3 className=\"room-name\">{room.name}</h3>\r\n                    {unreadCount > 0 && (\r\n                      <span className=\"unread-badge\">{unreadCount}</span>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"room-description\">{room.description}</p>\r\n                  <div className=\"room-last-message\">\r\n                    {getLastMessage(room.id)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"room-arrow\">\r\n                  →\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <div className=\"tips-section\">\r\n          <h3>💡 聊天小贴士</h3>\r\n          <ul>\r\n            <li>保持友善，尊重他人</li>\r\n            <li>分享有趣的话题和经验</li>\r\n            <li>找到志同道合的朋友</li>\r\n            <li>遵守聊天室规则</li>\r\n          </ul>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FindPartnerInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}