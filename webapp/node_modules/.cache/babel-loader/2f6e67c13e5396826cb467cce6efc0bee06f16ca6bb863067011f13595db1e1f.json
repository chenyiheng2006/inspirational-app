{"ast":null,"code":"import _objectSpread from\"C:/Users/tmf13/Desktop/RJ/APP/webapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import SplashScreen from'./components/SplashScreen';import LoginRegister from'./components/LoginRegister';import MainInterface from'./components/MainInterface';import MemoInterface from'./components/MemoInterface';import ListenToWindInterface from'./components/ListenToWindInterface';import FindPartnerInterface from'./components/FindPartnerInterface';import SettingsInterface from'./components/SettingsInterface';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[showSplash,setShowSplash]=useState(true);const[isLoggedIn,setIsLoggedIn]=useState(false);const[userData,setUserData]=useState({email:'',phone:'',avatar:null,nickname:'用户',grade:'高一',class:'1班',name:'张三',score:0,isAnonymous:false});useEffect(()=>{// 从localStorage加载用户数据和登录状态\nconst savedUserData=localStorage.getItem('userData');const savedLoginStatus=localStorage.getItem('isLoggedIn');if(savedUserData){setUserData(JSON.parse(savedUserData));}if(savedLoginStatus==='true'){setIsLoggedIn(true);}},[]);const updateUserData=newData=>{const updatedData=_objectSpread(_objectSpread({},userData),newData);setUserData(updatedData);localStorage.setItem('userData',JSON.stringify(updatedData));};const handleLogin=loginData=>{setUserData(prev=>_objectSpread(_objectSpread({},prev),loginData));setIsLoggedIn(true);localStorage.setItem('userData',JSON.stringify(_objectSpread(_objectSpread({},userData),loginData)));localStorage.setItem('isLoggedIn','true');};const handleLogout=()=>{setIsLoggedIn(false);localStorage.setItem('isLoggedIn','false');};const handleSplashComplete=()=>{setShowSplash(false);};if(showSplash){return/*#__PURE__*/_jsx(SplashScreen,{onComplete:handleSplashComplete});}if(!isLoggedIn){return/*#__PURE__*/_jsx(LoginRegister,{onLogin:handleLogin});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MainInterface,{userData:userData,updateUserData:updateUserData,onLogout:handleLogout})}),/*#__PURE__*/_jsx(Route,{path:\"/memo\",element:/*#__PURE__*/_jsx(MemoInterface,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/listen-to-wind\",element:/*#__PURE__*/_jsx(ListenToWindInterface,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/find-partner\",element:/*#__PURE__*/_jsx(FindPartnerInterface,{userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(SettingsInterface,{userData:userData,updateUserData:updateUserData})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","SplashScreen","LoginRegister","MainInterface","MemoInterface","ListenToWindInterface","FindPartnerInterface","SettingsInterface","jsx","_jsx","jsxs","_jsxs","App","showSplash","setShowSplash","isLoggedIn","setIsLoggedIn","userData","setUserData","email","phone","avatar","nickname","grade","class","name","score","isAnonymous","savedUserData","localStorage","getItem","savedLoginStatus","JSON","parse","updateUserData","newData","updatedData","_objectSpread","setItem","stringify","handleLogin","loginData","prev","handleLogout","handleSplashComplete","onComplete","onLogin","children","className","path","element","onLogout"],"sources":["C:/Users/tmf13/Desktop/RJ/APP/webapp/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport SplashScreen from './components/SplashScreen';\r\nimport LoginRegister from './components/LoginRegister';\r\nimport MainInterface from './components/MainInterface';\r\nimport MemoInterface from './components/MemoInterface';\r\nimport ListenToWindInterface from './components/ListenToWindInterface';\r\nimport FindPartnerInterface from './components/FindPartnerInterface';\r\nimport SettingsInterface from './components/SettingsInterface';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [showSplash, setShowSplash] = useState(true);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userData, setUserData] = useState({\r\n    email: '',\r\n    phone: '',\r\n    avatar: null,\r\n    nickname: '用户',\r\n    grade: '高一',\r\n    class: '1班',\r\n    name: '张三',\r\n    score: 0,\r\n    isAnonymous: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    // 从localStorage加载用户数据和登录状态\r\n    const savedUserData = localStorage.getItem('userData');\r\n    const savedLoginStatus = localStorage.getItem('isLoggedIn');\r\n    \r\n    if (savedUserData) {\r\n      setUserData(JSON.parse(savedUserData));\r\n    }\r\n    \r\n    if (savedLoginStatus === 'true') {\r\n      setIsLoggedIn(true);\r\n    }\r\n  }, []);\r\n\r\n  const updateUserData = (newData) => {\r\n    const updatedData = { ...userData, ...newData };\r\n    setUserData(updatedData);\r\n    localStorage.setItem('userData', JSON.stringify(updatedData));\r\n  };\r\n\r\n  const handleLogin = (loginData) => {\r\n    setUserData(prev => ({ ...prev, ...loginData }));\r\n    setIsLoggedIn(true);\r\n    localStorage.setItem('userData', JSON.stringify({ ...userData, ...loginData }));\r\n    localStorage.setItem('isLoggedIn', 'true');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setIsLoggedIn(false);\r\n    localStorage.setItem('isLoggedIn', 'false');\r\n  };\r\n\r\n  const handleSplashComplete = () => {\r\n    setShowSplash(false);\r\n  };\r\n\r\n  if (showSplash) {\r\n    return <SplashScreen onComplete={handleSplashComplete} />;\r\n  }\r\n\r\n  if (!isLoggedIn) {\r\n    return <LoginRegister onLogin={handleLogin} />;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Routes>\r\n          <Route path=\"/\" element={<MainInterface userData={userData} updateUserData={updateUserData} onLogout={handleLogout} />} />\r\n          <Route path=\"/memo\" element={<MemoInterface userData={userData} />} />\r\n          <Route path=\"/listen-to-wind\" element={<ListenToWindInterface userData={userData} />} />\r\n          <Route path=\"/find-partner\" element={<FindPartnerInterface userData={userData} />} />\r\n          <Route path=\"/settings\" element={<SettingsInterface userData={userData} updateUserData={updateUserData} />} />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}